---
title: Ubuntu 14.04 AOSP源码编译指南
url: 386.html
id: 386
categories:
  - Android
  - Linux
  - Ubuntu
date: 2018-02-11 13:39:36
tags:
---

1.先安装编译环境需要的软件
--------------

    sudo apt-get install openjdk-7-jdk git-core gnupg flex bison gperf build-essential \
    
    zip curl zlib1g-dev gcc-multilib g++-multilib libc6-dev-i386 \
    
    lib32ncurses5-dev x11proto-core-dev libx11-dev lib32z-dev ccache \
    
    libgl1-mesa-dev libxml2-utils xsltproc unzip
    
    

2.同步代码
------

    #新建目录
    mkdir workspace
    cd workspace
    #链接为清华镜像，--repo-url是repo工具的地址，--no-repo-verify关闭repo工具验证
    repo init -u https://aosp.tuna.tsinghua.edu.cn/platform/manifest -b android-6.0.1_r79 --repo-url=https://mirrors.tuna.tsinghua.edu.cn/git/git-repo --no-repo-verify
    #-d用清单文件里的版本；-c当前分支；--no-tags不拉取tag
    repo sync -d -c --no-tags
    

3.开始编译
------

    #初始化环境
    source build/envsetup.sh
    #选择产品
    lunch
    #用16线程编译
    make -j16